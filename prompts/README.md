# Каталог промптов

Этот каталог содержит файлы промптов для двухэтапной обработки документов.

## Структура файлов

### Основной промпт
- **`prompt_main.txt`** - промпт для разбивки документа на логические блоки

### Специализированные промпты
- **`prompt_document_info.txt`** - извлечение базовой информации о документе
- **`prompt_document_title.txt`** - извлечение заголовка и метаданных
- **`prompt_steel_info.txt`** - извлечение информации о стали
- **`prompt_chemical_composition.txt`** - извлечение химического состава
- **`prompt_technical_requirements.txt`** - извлечение технических требований
- **`prompt_tables.txt`** - извлечение таблиц

## Использование

### С каталогом по умолчанию (prompts)
```bash
python3 llm_parser.py --file "input.txt" --model "model_name"
```

### С указанием каталога промптов
```bash
python3 llm_parser.py --file "input.txt" --model "model_name" --prompt-dir "custom_prompts"
```

## Формат промптов

Каждый промпт должен:
1. Содержать четкие инструкции для модели
2. Указывать формат выходного JSON
3. Включать правила обработки OCR ошибок
4. Возвращать только валидный JSON

## Настройка промптов

Для изменения логики извлечения данных:
1. Отредактируйте соответствующий файл промпта
2. Перезапустите парсер
3. Проверьте результаты в промежуточном файле `.tmp.json`

## Добавление новых типов блоков

1. Создайте новый файл `prompt_new_type.txt`
2. Обновите функцию `load_prompt_files()` в `llm_parser.py`
3. Добавьте новый тип в `prompt_main.txt`
4. Протестируйте на документах



