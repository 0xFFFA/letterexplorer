# üìù –°–∏—Å—Ç–µ–º–∞ —Ä–∞–∑–º–µ—Ç–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

## üéØ –ö–æ–Ω—Ü–µ–ø—Ü–∏—è

**–ü—Ä–æ–±–ª–µ–º–∞**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è regex –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å —Ä–∞–∑–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π.

**–†–µ—à–µ–Ω–∏–µ**: –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ - —á–µ–ª–æ–≤–µ–∫ —Ä–∞–∑–º–µ—á–∞–µ—Ç –ø—Ä–∏–º–µ—Ä—ã, —Å–∫—Ä–∏–ø—Ç –∏–∑–≤–ª–µ–∫–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ.

## üîÑ Workflow (–†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å)

```
1. –¢–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª (.txt)
   ‚Üì
2. markup_generator.py ‚Üí –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ç–∫–∏
   ‚Üì
3. –§–∞–π–ª —Ä–∞–∑–º–µ—Ç–∫–∏ (.markup) —Å –º–µ—Ç–∫–∞–º–∏ [–ü–†–û–í–ï–†–¨]
   ‚Üì
4. –ß–µ–ª–æ–≤–µ–∫ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ—Ç
   ‚Üì
5. markup_parser.py ‚Üí –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
   ‚Üì
6. JSON —Å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
```

---

## üìã –®–∞–≥ 1: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ç–∫–∏

### –ö–æ–º–∞–Ω–¥–∞:
```bash
python3 markup_generator.py --input "output/document.txt"
```

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (–Ω–æ–º–µ—Ä, –¥–∞—Ç–∞, –∞–¥—Ä–µ—Å–∞—Ç—ã)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç —Ä–∞–∑–¥–µ–ª—ã –∏ –ø–æ–¥—Ä–∞–∑–¥–µ–ª—ã
- ‚úÖ –ü–æ–º–µ—á–∞–µ—Ç –º–µ—Å—Ç–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–µ—Ç–∫–æ–π `[–ü–†–û–í–ï–†–¨]`

### –†–µ–∑—É–ª—å—Ç–∞—Ç:
–§–∞–π–ª `document.markup` —Å –∞–≤—Ç–æ—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ä–∞–∑–º–µ—Ç–∫–æ–π.

---

## ‚úèÔ∏è –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –û—Ç–∫—Ä–æ–π—Ç–µ `.markup` —Ñ–∞–π–ª –∏:

1. **–ù–∞–π–¥–∏—Ç–µ –≤—Å–µ `[–ü–†–û–í–ï–†–¨]`** - —ç—Ç–æ –º–µ—Å—Ç–∞, —Ç—Ä–µ–±—É—é—â–∏–µ –≤–Ω–∏–º–∞–Ω–∏—è
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ**:
   ```
   01- 0530 { document_number }  ‚Üê –ü—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏?
   04.2025 { date }               ‚Üê –ü—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏?
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã**:
   ```
   # –ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π - —É–∫–æ—Ä–æ—Ç–∏—Ç–µ:
   –∫–æ–¥ –û–≠–ú–ö d—ç7 { code_oemk: d—ç7 }  ‚Üê –£–∫–æ—Ä–æ—Ç–∏—Ç–µ –¥–æ:
   d—ç7 { code_oemk }                  ‚Üê –¢–∞–∫ –ª—É—á—à–µ
   ```

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∞–±–ª–∏—Ü—ã**:
   ```
   # –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∏ —É–∫–∞–∂–∏—Ç–µ —Å—Ç–æ–ª–±—Ü—ã:
   @COLUMNS:
   –°
   Si
   Mn
   
   # –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∏ —É–∫–∞–∂–∏—Ç–µ —Å—Ç—Ä–æ–∫–∏:
   @ROW recommended: –†–µ–∫–æ–º–µ–Ω–¥:
   @ROW certificate: –ê—Ç—Ç–µ—Å—Ç–∞—Ç.
   ```

5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–¥–µ–ª—ã**:
   ```
   [SECTION section_1]
   @START: 1. –ü–†–û–ò–ó–í–û–î–°–¢–í–û –ù–õ–ó  ‚Üê –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –Ω–∞—á–∞–ª–æ?
   @END: 2. –ü–†–û–ò–ó–í–û–î–°–¢–í–û –ü–†–û–ö–ê–¢–ê ‚Üê –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–æ–Ω–µ—Ü?
   @SUBSECTIONS: ^(1\.\d+\.?)    ‚Üê –ü–∞—Ç—Ç–µ—Ä–Ω –ø–æ–¥—Ä–∞–∑–¥–µ–ª–æ–≤
   [END]
   ```

---

## üöÄ –®–∞–≥ 3: –ü–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö

### –ö–æ–º–∞–Ω–¥–∞:
```bash
python3 markup_parser.py --markup "output/document.markup" --input "output/document.txt"
```

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
- –ß–∏—Ç–∞–µ—Ç `.markup` —Ñ–∞–π–ª
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç —Ä–∞–∑–º–µ—Ç–∫—É –∫ —Ç–µ–∫—Å—Ç—É
- –ò–∑–≤–ª–µ–∫–∞–µ—Ç –≤—Å–µ –ø–æ–º–µ—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ JSON

### –†–µ–∑—É–ª—å—Ç–∞—Ç:
–§–∞–π–ª `document_parsed.json` —Å–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.

---

## üìñ –°–∏–Ω—Ç–∞–∫—Å–∏—Å .markup —Ñ–∞–π–ª–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:

#### 1. –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
```
[META]
01- 0530 { document_number }
04.2025 { date }
–ù–∞—á–∞–ª—å–Ω–∏–∫—É –≠–°–ü–¶ { addressee }
[END]
```

#### 2. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã
```
[PARAMS]
—Å—Ç–∞–ª–∏ –º–∞—Ä–∫–∏ 6856 { steel_grade: 6856 }
–∫–æ–¥ –û–≠–ú–ö
d—ç7 { code_oemk: d—ç7 }
[END]
```

#### 3. –¢–∞–±–ª–∏—Ü—ã
```
[TABLE chemical_composition]
@START: –¢–∞–±–ª–∏—Ü–∞
@START: 1

@COLUMNS:
–°
Si
Mn

@ROW recommended: –†–µ–∫–æ–º–µ–Ω–¥:
@ROW certificate: –ê—Ç—Ç–µ—Å—Ç–∞—Ç.

@END: –ü—Ä–∏–º–µ—á–∞–Ω–∏—è:
[END]
```

#### 4. –†–∞–∑–¥–µ–ª—ã
```
[SECTION section_1_nlz]
@START: –ü–†–û–ò–ó–í–û–î–°–¢–í–û –ù–õ–ó:
@END: 2. –ü–†–û–ò–ó–í–û–î–°–¢–í–û –ü–†–û–ö–ê–¢–ê
@SUBSECTIONS: ^(1\.\d+\.?)
[END]
```

---

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ —Å–æ–≤–µ—Ç—ã

### ‚úÖ DO (–î–µ–ª–∞–π—Ç–µ):
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ—Ä–æ—Ç–∫–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã —Ç–µ–∫—Å—Ç–∞
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –≤—Å–µ –º–µ—Ç–∫–∏ `[–ü–†–û–í–ï–†–¨]`
- –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ –ø–µ—Ä–µ–¥ –º–∞—Å—Å–æ–≤—ã–º –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º

### ‚ùå DON'T (–ù–µ –¥–µ–ª–∞–π—Ç–µ):
- –ù–µ –∫–æ–ø–∏—Ä—É–π—Ç–µ –¥–ª–∏–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã (80+ —Å–∏–º–≤–æ–ª–æ–≤)
- –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–µ—É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã ("1", "2")
- –ù–µ –ø—Ä–æ–ø—É—Å–∫–∞–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

---

## üîß –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å (TODO)

–í –±—É–¥—É—â–µ–º –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã:

```
# –ü–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏:
–ù–∞—á–∞–ª—å–Ω–∏–∫—É * { addressee }  # * = –ª—é–±–æ–π —Ç–µ–∫—Å—Ç –¥–æ –∫–æ–Ω—Ü–∞ —Å—Ç—Ä–æ–∫–∏

# –ó–∞—Ö–≤–∞—Ç –∑–Ω–∞—á–µ–Ω–∏–π:
—Å—Ç–∞–ª–∏ –º–∞—Ä–∫–∏ {{number}} { steel_grade: $1 }  # {{number}} = –∑–∞—Ö–≤–∞—Ç —á–∏—Å–ª–∞

# –ú–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã–µ:
[MULTILINE document_title]
0 –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ –≥l–∫ —Å–æ—Ä—Ç–æ–≤–æ–≥–æ
–ø—Ä–æ–∫–∞—Ç–∞ —Å—Ç–∞–ª–∏ –º–∞—Ä–∫–∏ 6856
[END]
```

---

## üìä –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–æ–¥—Ö–æ–¥–∞

| –ê—Å–ø–µ–∫—Ç | –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ |
|--------|--------------|
| **–¢–æ—á–Ω–æ—Å—Ç—å** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê –ß–µ–ª–æ–≤–µ–∫ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç |
| **–°–∫–æ—Ä–æ—Å—Ç—å** | ‚≠ê‚≠ê‚≠ê‚≠ê –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è + –ø—Ä–æ–≤–µ—Ä–∫–∞ |
| **–ì–∏–±–∫–æ—Å—Ç—å** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê –†–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π |
| **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** | ‚≠ê‚≠ê‚≠ê‚≠ê –°–æ—Ö—Ä–∞–Ω–∏—Ç—å `.markup` –¥–ª—è —Ç–∏–ø–æ–≤—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ |
| **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê –í–∏–¥–Ω–æ —á—Ç–æ –∏ –æ—Ç–∫—É–¥–∞ –±–µ—Ä—ë—Ç—Å—è |

---

## üö¶ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ **markup_generator.py** - –≥–æ—Ç–æ–≤
2. ‚è≥ **markup_parser.py** - –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
3. ‚è≥ –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å (*, {{value}})
4. ‚è≥ –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ —à–∞–±–ª–æ–Ω–æ–≤ –¥–ª—è —Ç–∏–ø–æ–≤—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
5. ‚è≥ –í–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä .markup —Ñ–∞–π–ª–æ–≤

---

## üìû –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ —É–ª—É—á—à–µ–Ω–∏—é —Å–∏—Å—Ç–µ–º—ã —Ä–∞–∑–º–µ—Ç–∫–∏ - —Å–æ–∑–¥–∞–π—Ç–µ issue –∏–ª–∏ PR!




