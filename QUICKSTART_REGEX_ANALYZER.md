# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: LLM Regex Analyzer

## –ó–∞ 3 –º–∏–Ω—É—Ç—ã –¥–æ –ø–µ—Ä–≤–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

### 1Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ Ollama

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Ollama –∑–∞–ø—É—â–µ–Ω–∞
curl http://localhost:11434/api/tags

# –ï—Å–ª–∏ –Ω–µ –∑–∞–ø—É—â–µ–Ω–∞:
ollama serve
```

### 2Ô∏è‚É£ –ó–∞–ø—É—Å–∫ –∞–Ω–∞–ª–∏–∑–∞

```bash
cd /home/dev/letterexplorer

python3 llm_regex_analyzer.py \
  --file output/01-0530_6856.txt \
  --model "yandex/YandexGPT-5-Lite-8B-instruct-GGUF:latest" \
  --validate
```

### 3Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

```bash
# –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å –¥–∞–Ω–Ω—ã–º–∏ –∏ regex
cat output/01-0530_6856_analyzed.json | jq '.'

# –¢–æ–ª—å–∫–æ regex –ø–∞—Ç—Ç–µ—Ä–Ω—ã
cat output/01-0530_6856.regex.json | jq '.patterns'

# –¢–æ–ª—å–∫–æ –∏–∑–≤–ª–µ—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
cat output/01-0530_6856.data.json | jq '.extracted_data'

# –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏
cat output/01-0530_6856_validation.json | jq '.'
```

## üìã –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç

1. **LLM —á–∏—Ç–∞–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç** (output/01-0530_6856.txt)
2. **LLM —á–∏—Ç–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏** (instructions_regex_generation.txt)
3. **LLM –Ω–∞—Ö–æ–¥–∏—Ç –¥–∞–Ω–Ω—ã–µ** –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ:
   - –ù–æ–º–µ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞: 01-0530
   - –î–∞—Ç–∞: 04.2025
   - –ú–∞—Ä–∫–∞ —Å—Ç–∞–ª–∏: 6856
   - –•–∏–º–∏—á–µ—Å–∫–∏–π —Å–æ—Å—Ç–∞–≤ (–¢–∞–±–ª–∏—Ü–∞ 1)
   - –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã, —Å–∫–æ—Ä–æ—Å—Ç–∏, –¥–æ–ø—É—Å–∫–∏
   - –ò –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ...
4. **LLM —Å–æ–∑–¥–∞–µ—Ç regex** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
5. **–°–∏—Å—Ç–µ–º–∞ –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç** regex –Ω–∞ –∏—Å—Ö–æ–¥–Ω–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–µ
6. **–°–æ—Ö—Ä–∞–Ω—è–µ—Ç 3 —Ñ–∞–π–ª–∞**:
   - –ü–æ–ª–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–¥–∞–Ω–Ω—ã–µ + regex)
   - –¢–æ–ª—å–∫–æ regex (–¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
   - –¢–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ (–¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)

## ‚ö° –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫
```bash
./llm_regex_analyzer.py -f output/01-0530_6856.txt -m "yandex/YandexGPT-5-Lite-8B-instruct-GGUF:latest"
```

### –° –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
```bash
./llm_regex_analyzer.py -f output/01-0530_6856.txt -m "yandex/YandexGPT-5-Lite-8B-instruct-GGUF:latest" --validate
```

### –° –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
```bash
./llm_regex_analyzer.py \
  -f output/01-0530_6856.txt \
  -m "yandex/YandexGPT-5-Lite-8B-instruct-GGUF:latest" \
  -i my_instructions.txt
```

### –î–ª—è –¥—Ä—É–≥–æ–≥–æ —Ñ–∞–π–ª–∞
```bash
./llm_regex_analyzer.py -f "output/01-0133 8720–ú.txt" -m "yandex/YandexGPT-5-Lite-8B-instruct-GGUF:latest"
```

## üéØ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

```
‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å Ollama —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
üìù –ó–∞–≥—Ä—É–∂–µ–Ω—ã –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏: instructions_regex_generation.txt
üìÑ –ó–∞–≥—Ä—É–∂–µ–Ω –¥–æ–∫—É–º–µ–Ω—Ç: 01-0530_6856.txt (27890 —Å–∏–º–≤–æ–ª–æ–≤)

======================================================================
üöÄ –ù–ê–ß–ò–ù–ê–ï–ú –ê–ù–ê–õ–ò–ó
======================================================================
üîÑ –≠—Ç–∞–ø 1: –ê–Ω–∞–ª–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è regex –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤...
   –†–∞–∑–º–µ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞: 27890 —Å–∏–º–≤–æ–ª–æ–≤
   –†–∞–∑–º–µ—Ä –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π: 15234 —Å–∏–º–≤–æ–ª–æ–≤
ü§ñ –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –∫ LLM (–º–æ–¥–µ–ª—å: yandex/YandexGPT-5-Lite-8B-instruct-GGUF:latest)...
‚úÖ –£—Å–ø–µ—à–Ω–æ —Ä–∞—Å–ø–∞—Ä—Å–µ–Ω JSON –æ—Ç LLM
üíæ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã: output/01-0530_6856_analyzed.json
üìù Regex –ø–∞—Ç—Ç–µ—Ä–Ω—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –æ—Ç–¥–µ–ª—å–Ω–æ: output/01-0530_6856.regex.json
üìä –ò–∑–≤–ª–µ—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –æ—Ç–¥–µ–ª—å–Ω–æ: output/01-0530_6856.data.json

======================================================================
üîç –í–ê–õ–ò–î–ê–¶–ò–Ø REGEX –ü–ê–¢–¢–ï–†–ù–û–í
======================================================================
üîÑ –≠—Ç–∞–ø 2: –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é regex...
üíæ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã: output/01-0530_6856_validation.json
‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏: output/01-0530_6856_validation.json

======================================================================
‚úÖ –ê–ù–ê–õ–ò–ó –ó–ê–í–ï–†–®–ï–ù!
======================================================================
üìÅ –ü–æ–ª–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: output/01-0530_6856_analyzed.json
üìù Regex –ø–∞—Ç—Ç–µ—Ä–Ω—ã: output/01-0530_6856.regex.json
üìä –ò–∑–≤–ª–µ—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: output/01-0530_6856.data.json
üîç –í–∞–ª–∏–¥–∞—Ü–∏—è: output/01-0530_6856_validation.json
```

## üîß –ü—Ä–æ–±–ª–µ–º—ã?

### –û—à–∏–±–∫–∞: "Connection refused"
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Ollama –∑–∞–ø—É—â–µ–Ω–∞
ps aux | grep ollama

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ Ollama
ollama serve &
```

### –û—à–∏–±–∫–∞: "Model not found"
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏
ollama list

# –ó–∞–≥—Ä—É–∑–∏—Ç–µ –Ω—É–∂–Ω—É—é –º–æ–¥–µ–ª—å
ollama pull yandex/YandexGPT-5-Lite-8B-instruct-GGUF:latest
```

### –û—à–∏–±–∫–∞: "JSON parse error"
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª —Å –æ—à–∏–±–∫–æ–π
cat output/01-0530_6856_error.json

# –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥—É—é –º–æ–¥–µ–ª—å (–±–æ–ª–µ–µ –º–æ—â–Ω—É—é)
./llm_regex_analyzer.py -f output/01-0530_6856.txt -m "llama3:70b"
```

### –°–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
```bash
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª–µ–µ –ª–µ–≥–∫—É—é –º–æ–¥–µ–ª—å
./llm_regex_analyzer.py -f output/01-0530_6856.txt -m "llama3:8b"
```

## üìñ –ß—Ç–æ –¥–∞–ª—å—à–µ?

1. **–ò–∑—É—á–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** –≤ `*_analyzed.json`
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ regex** –≤ `*.regex.json`
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ** –∏–∑ `*.data.json`
4. **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ regex** –¥–ª—è –ø–æ—Ö–æ–∂–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤:
   ```bash
   python3 regex_parser.py \
     --file another_document.txt \
     --regex-file output/01-0530_6856.regex.json \
     --mode apply
   ```

## üìö –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [LLM_REGEX_ANALYZER_README.md](LLM_REGEX_ANALYZER_README.md) - –¥–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
- [instructions_regex_generation.txt](instructions_regex_generation.txt) - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è LLM

---

**–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã:** ~60-180 —Å–µ–∫—É–Ω–¥ (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –º–æ–¥–µ–ª–∏)  
**–ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞:** regex –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ—Ç–µ–Ω –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∑–∞ —Å–µ–∫—É–Ω–¥—ã!


